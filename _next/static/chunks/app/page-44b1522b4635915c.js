(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{53:(e,t,n)=>{"use strict";n.d(t,{default:()=>T});var i=n(5155),r=n(2115),s=n(7431),o=n(1004);let a={onSpeedUp:()=>{},onSlowDown:()=>{},distortion:"turbulentDistortion",length:400,roadWidth:10,islandWidth:2,lanesPerRoad:4,fov:90,fovSpeedUp:150,speedUp:2,carLightsFade:.4,totalSideLightSticks:20,lightPairsPerRoadWay:40,shoulderLinesWidthPercentage:.05,brokenLinesWidthPercentage:.1,brokenLinesLengthPercentage:.5,lightStickWidth:[.12,.5],lightStickHeight:[1.3,1.7],movingAwaySpeed:[60,80],movingCloserSpeed:[-120,-160],carLightsLength:[12,80],carLightsRadius:[.05,.14],carWidthPercentage:[.3,.5],carShiftX:[-.8,.8],carFloorSeparation:[0,5],colors:{roadColor:526344,islandColor:657930,background:0,shoulderLines:0xffffff,brokenLines:0xffffff,leftCars:[0xd856bf,6770850,0xc247ac],rightCars:[242627,941733,3294549],sticks:242627}};function l(e){return .5*Math.sin(e)+.5}let c={uFreq:{value:new s.Pq0(3,6,10)},uAmp:{value:new s.Pq0(30,30,20)}},u={uFreq:{value:new s.I9Y(5,2)},uAmp:{value:new s.I9Y(25,15)}},h={uFreq:{value:new s.I9Y(2,3)},uAmp:{value:new s.I9Y(35,10)}},d={uFreq:{value:new s.IUQ(4,8,8,1)},uAmp:{value:new s.IUQ(25,5,10,10)}},m={uFreq:{value:new s.I9Y(4,8)},uAmp:{value:new s.I9Y(10,20)},uPowY:{value:new s.I9Y(20,2)}},f={mountainDistortion:{uniforms:c,getDistortion:"\n      uniform vec3 uAmp;\n      uniform vec3 uFreq;\n      #define PI 3.14159265358979\n      float nsin(float val){\n        return sin(val) * 0.5 + 0.5;\n      }\n      vec3 getDistortion(float progress){\n        float movementProgressFix = 0.02;\n        return vec3( \n          cos(progress * PI * uFreq.x + uTime) * uAmp.x - cos(movementProgressFix * PI * uFreq.x + uTime) * uAmp.x,\n          nsin(progress * PI * uFreq.y + uTime) * uAmp.y - nsin(movementProgressFix * PI * uFreq.y + uTime) * uAmp.y,\n          nsin(progress * PI * uFreq.z + uTime) * uAmp.z - nsin(movementProgressFix * PI * uFreq.z + uTime) * uAmp.z\n        );\n      }\n    ",getJS:(e,t)=>{let n=c.uFreq.value,i=c.uAmp.value,r=new s.Pq0(Math.cos(e*Math.PI*n.x+t)*i.x-Math.cos(.02*Math.PI*n.x+t)*i.x,l(e*Math.PI*n.y+t)*i.y-l(.02*Math.PI*n.y+t)*i.y,l(e*Math.PI*n.z+t)*i.z-l(.02*Math.PI*n.z+t)*i.z),o=new s.Pq0(2,2,2),a=new s.Pq0(0,0,-5);return r.multiply(o).add(a)}},xyDistortion:{uniforms:u,getDistortion:"\n      uniform vec2 uFreq;\n      uniform vec2 uAmp;\n      #define PI 3.14159265358979\n      vec3 getDistortion(float progress){\n        float movementProgressFix = 0.02;\n        return vec3( \n          cos(progress * PI * uFreq.x + uTime) * uAmp.x - cos(movementProgressFix * PI * uFreq.x + uTime) * uAmp.x,\n          sin(progress * PI * uFreq.y + PI/2. + uTime) * uAmp.y - sin(movementProgressFix * PI * uFreq.y + PI/2. + uTime) * uAmp.y,\n          0.\n        );\n      }\n    ",getJS:(e,t)=>{let n=u.uFreq.value,i=u.uAmp.value,r=new s.Pq0(Math.cos(e*Math.PI*n.x+t)*i.x-Math.cos(.02*Math.PI*n.x+t)*i.x,Math.sin(e*Math.PI*n.y+t+Math.PI/2)*i.y-Math.sin(.02*Math.PI*n.y+t+Math.PI/2)*i.y,0),o=new s.Pq0(2,.4,1),a=new s.Pq0(0,0,-3);return r.multiply(o).add(a)}},LongRaceDistortion:{uniforms:h,getDistortion:"\n      uniform vec2 uFreq;\n      uniform vec2 uAmp;\n      #define PI 3.14159265358979\n      vec3 getDistortion(float progress){\n        float camProgress = 0.0125;\n        return vec3( \n          sin(progress * PI * uFreq.x + uTime) * uAmp.x - sin(camProgress * PI * uFreq.x + uTime) * uAmp.x,\n          sin(progress * PI * uFreq.y + uTime) * uAmp.y - sin(camProgress * PI * uFreq.y + uTime) * uAmp.y,\n          0.\n        );\n      }\n    ",getJS:(e,t)=>{let n=h.uFreq.value,i=h.uAmp.value,r=new s.Pq0(Math.sin(e*Math.PI*n.x+t)*i.x-Math.sin(.0125*Math.PI*n.x+t)*i.x,Math.sin(e*Math.PI*n.y+t)*i.y-Math.sin(.0125*Math.PI*n.y+t)*i.y,0),o=new s.Pq0(1,1,0),a=new s.Pq0(0,0,-5);return r.multiply(o).add(a)}},turbulentDistortion:{uniforms:d,getDistortion:"\n      uniform vec4 uFreq;\n      uniform vec4 uAmp;\n      float nsin(float val){\n        return sin(val) * 0.5 + 0.5;\n      }\n      #define PI 3.14159265358979\n      float getDistortionX(float progress){\n        return (\n          cos(PI * progress * uFreq.r + uTime) * uAmp.r +\n          pow(cos(PI * progress * uFreq.g + uTime * (uFreq.g / uFreq.r)), 2. ) * uAmp.g\n        );\n      }\n      float getDistortionY(float progress){\n        return (\n          -nsin(PI * progress * uFreq.b + uTime) * uAmp.b +\n          -pow(nsin(PI * progress * uFreq.a + uTime / (uFreq.b / uFreq.a)), 5.) * uAmp.a\n        );\n      }\n      vec3 getDistortion(float progress){\n        return vec3(\n          getDistortionX(progress) - getDistortionX(0.0125),\n          getDistortionY(progress) - getDistortionY(0.0125),\n          0.\n        );\n      }\n    ",getJS:(e,t)=>{let n=d.uFreq.value,i=d.uAmp.value,r=e=>Math.cos(Math.PI*e*n.x+t)*i.x+Math.pow(Math.cos(Math.PI*e*n.y+t*(n.y/n.x)),2)*i.y,o=e=>-l(Math.PI*e*n.z+t)*i.z-Math.pow(l(Math.PI*e*n.w+t/(n.z/n.w)),5)*i.w,a=new s.Pq0(r(e)-r(e+.007),o(e)-o(e+.007),0),c=new s.Pq0(-2,-5,0),u=new s.Pq0(0,0,-10);return a.multiply(c).add(u)}},turbulentDistortionStill:{uniforms:d,getDistortion:"\n      uniform vec4 uFreq;\n      uniform vec4 uAmp;\n      float nsin(float val){\n        return sin(val) * 0.5 + 0.5;\n      }\n      #define PI 3.14159265358979\n      float getDistortionX(float progress){\n        return (\n          cos(PI * progress * uFreq.r) * uAmp.r +\n          pow(cos(PI * progress * uFreq.g * (uFreq.g / uFreq.r)), 2. ) * uAmp.g\n        );\n      }\n      float getDistortionY(float progress){\n        return (\n          -nsin(PI * progress * uFreq.b) * uAmp.b +\n          -pow(nsin(PI * progress * uFreq.a / (uFreq.b / uFreq.a)), 5.) * uAmp.a\n        );\n      }\n      vec3 getDistortion(float progress){\n        return vec3(\n          getDistortionX(progress) - getDistortionX(0.02),\n          getDistortionY(progress) - getDistortionY(0.02),\n          0.\n        );\n      }\n    "},deepDistortionStill:{uniforms:m,getDistortion:"\n      uniform vec4 uFreq;\n      uniform vec4 uAmp;\n      uniform vec2 uPowY;\n      float nsin(float val){\n        return sin(val) * 0.5 + 0.5;\n      }\n      #define PI 3.14159265358979\n      float getDistortionX(float progress){\n        return (\n          sin(progress * PI * uFreq.x) * uAmp.x * 2.\n        );\n      }\n      float getDistortionY(float progress){\n        return (\n          pow(abs(progress * uPowY.x), uPowY.y) + sin(progress * PI * uFreq.y) * uAmp.y\n        );\n      }\n      vec3 getDistortion(float progress){\n        return vec3(\n          getDistortionX(progress) - getDistortionX(0.02),\n          getDistortionY(progress) - getDistortionY(0.05),\n          0.\n        );\n      }\n    "},deepDistortion:{uniforms:m,getDistortion:"\n      uniform vec4 uFreq;\n      uniform vec4 uAmp;\n      uniform vec2 uPowY;\n      float nsin(float val){\n        return sin(val) * 0.5 + 0.5;\n      }\n      #define PI 3.14159265358979\n      float getDistortionX(float progress){\n        return (\n          sin(progress * PI * uFreq.x + uTime) * uAmp.x\n        );\n      }\n      float getDistortionY(float progress){\n        return (\n          pow(abs(progress * uPowY.x), uPowY.y) + sin(progress * PI * uFreq.y + uTime) * uAmp.y\n        );\n      }\n      vec3 getDistortion(float progress){\n        return vec3(\n          getDistortionX(progress) - getDistortionX(0.02),\n          getDistortionY(progress) - getDistortionY(0.02),\n          0.\n        );\n      }\n    ",getJS:(e,t)=>{let n=m.uFreq.value,i=m.uAmp.value,r=m.uPowY.value,o=e=>Math.sin(e*Math.PI*n.x+t)*i.x,a=e=>Math.pow(e*r.x,r.y)+Math.sin(e*Math.PI*n.y+t)*i.y,l=new s.Pq0(o(e)-o(e+.01),a(e)-a(e+.01),0),c=new s.Pq0(-2,-4,0),u=new s.Pq0(0,0,-10);return l.multiply(c).add(u)}}},g={uDistortionX:{value:new s.I9Y(80,3)},uDistortionY:{value:new s.I9Y(-40,2.5)}};function p(e){return Array.isArray(e)?Math.random()*(e[1]-e[0])+e[0]:Math.random()*e}function v(e){return Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:e}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001,r=(t-e)*n;return Math.abs(r)<i&&(r=t-e),r}class w{init(){let e,t=this.options,n=new s.VnP(new s.Pq0(0,0,0),new s.Pq0(0,0,-1)),i=new s.j6(n,40,1,8,!1),r=new s.CmU().copy(i);r.instanceCount=2*t.lightPairsPerRoadWay;let o=t.roadWidth/t.lanesPerRoad,a=[],l=[],c=[];e=Array.isArray(this.colors)?this.colors.map(e=>new s.Q1f(e)):[new s.Q1f(this.colors)];for(let n=0;n<t.lightPairsPerRoadWay;n++){let i=p(t.carLightsRadius),r=p(t.carLightsLength),s=p(this.speed),u=n%t.lanesPerRoad*o-t.roadWidth/2+o/2,h=p(t.carWidthPercentage)*o;u+=p(t.carShiftX)*o;let d=p(t.carFloorSeparation)+1.3*i,m=-p(t.length);a.push(u-h/2),a.push(d),a.push(m),a.push(u+h/2),a.push(d),a.push(m),l.push(i),l.push(r),l.push(s),l.push(i),l.push(r),l.push(s);let f=v(e);c.push(f.r),c.push(f.g),c.push(f.b),c.push(f.r),c.push(f.g),c.push(f.b)}r.setAttribute("aOffset",new s.uWO(new Float32Array(a),3,!1)),r.setAttribute("aMetrics",new s.uWO(new Float32Array(l),3,!1)),r.setAttribute("aColor",new s.uWO(new Float32Array(c),3,!1));let u=new s.BKk({fragmentShader:P,vertexShader:y,transparent:!0,uniforms:Object.assign({uTime:{value:0},uTravelLength:{value:t.length},uFade:{value:this.fade}},this.webgl.fogUniforms,("object"==typeof this.options.distortion?this.options.distortion.uniforms:{})||{})});u.onBeforeCompile=e=>{e.vertexShader=e.vertexShader.replace("#include <getDistortion_vertex>","object"==typeof this.options.distortion?this.options.distortion.getDistortion:"")};let h=new s.eaF(r,u);h.frustumCulled=!1,this.webgl.scene.add(h),this.mesh=h}update(e){this.mesh.material.uniforms.uTime&&(this.mesh.material.uniforms.uTime.value=e)}constructor(e,t,n,i,r){this.webgl=e,this.options=t,this.colors=n,this.speed=i,this.fade=r}}let P="\n  #define USE_FOG;\n  ".concat(s.vxI.fog_pars_fragment,"\n  varying vec3 vColor;\n  varying vec2 vUv; \n  uniform vec2 uFade;\n  void main() {\n    vec3 color = vec3(vColor);\n    float alpha = smoothstep(uFade.x, uFade.y, vUv.x);\n    gl_FragColor = vec4(color, alpha);\n    if (gl_FragColor.a < 0.0001) discard;\n    ").concat(s.vxI.fog_fragment,"\n  }\n"),y="\n  #define USE_FOG;\n  ".concat(s.vxI.fog_pars_vertex,"\n  attribute vec3 aOffset;\n  attribute vec3 aMetrics;\n  attribute vec3 aColor;\n  uniform float uTravelLength;\n  uniform float uTime;\n  varying vec2 vUv; \n  varying vec3 vColor; \n  #include <getDistortion_vertex>\n  void main() {\n    vec3 transformed = position.xyz;\n    float radius = aMetrics.r;\n    float myLength = aMetrics.g;\n    float speed = aMetrics.b;\n\n    transformed.xy *= radius;\n    transformed.z *= myLength;\n\n    transformed.z += myLength - mod(uTime * speed + aOffset.z, uTravelLength);\n    transformed.xy += aOffset.xy;\n\n    float progress = abs(transformed.z / uTravelLength);\n    transformed.xyz += getDistortion(progress);\n\n    vec4 mvPosition = modelViewMatrix * vec4(transformed, 1.);\n    gl_Position = projectionMatrix * mvPosition;\n    vUv = uv;\n    vColor = aColor;\n    ").concat(s.vxI.fog_vertex,"\n  }\n");class b{init(){let e,t=this.options,n=new s.bdM(1,1),i=new s.CmU().copy(n),r=t.totalSideLightSticks;i.instanceCount=r;let o=t.length/(r-1),a=[],l=[],c=[];e=Array.isArray(t.colors.sticks)?t.colors.sticks.map(e=>new s.Q1f(e)):[new s.Q1f(t.colors.sticks)];for(let n=0;n<r;n++){let i=p(t.lightStickWidth),r=p(t.lightStickHeight);a.push((n-1)*o*2+o*Math.random());let s=v(e);l.push(s.r),l.push(s.g),l.push(s.b),c.push(i),c.push(r)}i.setAttribute("aOffset",new s.uWO(new Float32Array(a),1,!1)),i.setAttribute("aColor",new s.uWO(new Float32Array(l),3,!1)),i.setAttribute("aMetrics",new s.uWO(new Float32Array(c),2,!1));let u=new s.BKk({fragmentShader:F,vertexShader:I,side:s.$EB,uniforms:Object.assign({uTravelLength:{value:t.length},uTime:{value:0}},this.webgl.fogUniforms,("object"==typeof t.distortion?t.distortion.uniforms:{})||{})});u.onBeforeCompile=e=>{e.vertexShader=e.vertexShader.replace("#include <getDistortion_vertex>","object"==typeof this.options.distortion?this.options.distortion.getDistortion:"")};let h=new s.eaF(i,u);h.frustumCulled=!1,this.webgl.scene.add(h),this.mesh=h}update(e){this.mesh.material.uniforms.uTime&&(this.mesh.material.uniforms.uTime.value=e)}constructor(e,t){this.webgl=e,this.options=t}}let I="\n  #define USE_FOG;\n  ".concat(s.vxI.fog_pars_vertex,"\n  attribute float aOffset;\n  attribute vec3 aColor;\n  attribute vec2 aMetrics;\n  uniform float uTravelLength;\n  uniform float uTime;\n  varying vec3 vColor;\n  mat4 rotationY( in float angle ) {\n    return mat4(\n      cos(angle),		0,		sin(angle),	0,\n      0,		        1.0,	0,			0,\n      -sin(angle),	    0,		cos(angle),	0,\n      0, 		        0,		0,			1\n    );\n  }\n  #include <getDistortion_vertex>\n  void main(){\n    vec3 transformed = position.xyz;\n    float width = aMetrics.x;\n    float height = aMetrics.y;\n\n    transformed.xy *= vec2(width, height);\n    float time = mod(uTime * 60. * 2. + aOffset, uTravelLength);\n\n    transformed = (rotationY(3.14/2.) * vec4(transformed,1.)).xyz;\n    transformed.z += - uTravelLength + time;\n\n    float progress = abs(transformed.z / uTravelLength);\n    transformed.xyz += getDistortion(progress);\n\n    transformed.y += height / 2.;\n    transformed.x += -width / 2.;\n    vec4 mvPosition = modelViewMatrix * vec4(transformed, 1.);\n    gl_Position = projectionMatrix * mvPosition;\n    vColor = aColor;\n    ").concat(s.vxI.fog_vertex,"\n  }\n"),F="\n  #define USE_FOG;\n  ".concat(s.vxI.fog_pars_fragment,"\n  varying vec3 vColor;\n  void main(){\n    vec3 color = vec3(vColor);\n    gl_FragColor = vec4(color,1.);\n    ").concat(s.vxI.fog_fragment,"\n  }\n");class L{createPlane(e,t,n){let i=this.options,r=new s.bdM(n?i.roadWidth:i.islandWidth,i.length,20,100),o={uTravelLength:{value:i.length},uColor:{value:new s.Q1f(n?i.colors.roadColor:i.colors.islandColor)},uTime:this.uTime};n&&(o=Object.assign(o,{uLanes:{value:i.lanesPerRoad},uBrokenLinesColor:{value:new s.Q1f(i.colors.brokenLines)},uShoulderLinesColor:{value:new s.Q1f(i.colors.shoulderLines)},uShoulderLinesWidthPercentage:{value:i.shoulderLinesWidthPercentage},uBrokenLinesLengthPercentage:{value:i.brokenLinesLengthPercentage},uBrokenLinesWidthPercentage:{value:i.brokenLinesWidthPercentage}}));let a=new s.BKk({fragmentShader:n?S:A,vertexShader:k,side:s.$EB,uniforms:Object.assign(o,this.webgl.fogUniforms,("object"==typeof i.distortion?i.distortion.uniforms:{})||{})});a.onBeforeCompile=e=>{e.vertexShader=e.vertexShader.replace("#include <getDistortion_vertex>","object"==typeof this.options.distortion?this.options.distortion.getDistortion:"")};let l=new s.eaF(r,a);return l.rotation.x=-Math.PI/2,l.position.z=-i.length/2,l.position.x+=(this.options.islandWidth/2+i.roadWidth/2)*e,this.webgl.scene.add(l),l}init(){this.leftRoadWay=this.createPlane(-1,this.options.roadWidth,!0),this.rightRoadWay=this.createPlane(1,this.options.roadWidth,!0),this.island=this.createPlane(0,this.options.islandWidth,!1)}update(e){this.uTime.value=e}constructor(e,t){this.webgl=e,this.options=t,this.uTime={value:0}}}let M="\n  #define USE_FOG;\n  varying vec2 vUv; \n  uniform vec3 uColor;\n  uniform float uTime;\n  #include <roadMarkings_vars>\n  ".concat(s.vxI.fog_pars_fragment,"\n  void main() {\n    vec2 uv = vUv;\n    vec3 color = vec3(uColor);\n    #include <roadMarkings_fragment>\n    gl_FragColor = vec4(color, 1.);\n    ").concat(s.vxI.fog_fragment,"\n  }\n"),A=M.replace("#include <roadMarkings_fragment>","").replace("#include <roadMarkings_vars>",""),S=M.replace("#include <roadMarkings_fragment>","\n  uv.y = mod(uv.y + uTime * 0.05, 1.);\n  float laneWidth = 1.0 / uLanes;\n  float brokenLineWidth = laneWidth * uBrokenLinesWidthPercentage;\n  float laneEmptySpace = 1. - uBrokenLinesLengthPercentage;\n\n  float brokenLines = step(1.0 - brokenLineWidth, fract(uv.x * 2.0)) * step(laneEmptySpace, fract(uv.y * 10.0));\n  float sideLines = step(1.0 - brokenLineWidth, fract((uv.x - laneWidth * (uLanes - 1.0)) * 2.0)) + step(brokenLineWidth, uv.x);\n\n  brokenLines = mix(brokenLines, sideLines, uv.x);\n  // color = mix(color, uBrokenLinesColor, brokenLines);\n\n  // vec2 noiseFreq = vec2(4., 7000.);\n  // float roadNoise = random(floor(uv * noiseFreq) / noiseFreq) * 0.02 - 0.01; \n  // color += roadNoise;\n").replace("#include <roadMarkings_vars>","\n  uniform float uLanes;\n  uniform vec3 uBrokenLinesColor;\n  uniform vec3 uShoulderLinesColor;\n  uniform float uShoulderLinesWidthPercentage;\n  uniform float uBrokenLinesWidthPercentage;\n  uniform float uBrokenLinesLengthPercentage;\n  highp float random(vec2 co) {\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy, vec2(a, b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n  }\n"),k="\n  #define USE_FOG;\n  uniform float uTime;\n  ".concat(s.vxI.fog_pars_vertex,"\n  uniform float uTravelLength;\n  varying vec2 vUv; \n  #include <getDistortion_vertex>\n  void main() {\n    vec3 transformed = position.xyz;\n    vec3 distortion = getDistortion((transformed.y + uTravelLength / 2.) / uTravelLength);\n    transformed.x += distortion.x;\n    transformed.z += distortion.y;\n    transformed.y += -1. * distortion.z;  \n    \n    vec4 mvPosition = modelViewMatrix * vec4(transformed, 1.);\n    gl_Position = projectionMatrix * mvPosition;\n    vUv = uv;\n    ").concat(s.vxI.fog_vertex,"\n  }\n");class D{onWindowResize(){let e=this.container.offsetWidth,t=this.container.offsetHeight;this.renderer.setSize(e,t),this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.composer.setSize(e,t)}initPasses(){this.renderPass=new o.AH(this.scene,this.camera),this.bloomPass=new o.Vu(this.camera,new o.bv({luminanceThreshold:.2,luminanceSmoothing:0,resolutionScale:1}));let e=new o.Vu(this.camera,new o.eF({preset:o.MB.MEDIUM}));this.renderPass.renderToScreen=!1,this.bloomPass.renderToScreen=!1,e.renderToScreen=!0,this.composer.addPass(this.renderPass),this.composer.addPass(this.bloomPass),this.composer.addPass(e)}loadAssets(){let e=this.assets;return new Promise(t=>{let n=new s.KPJ(t),i=new Image,r=new Image;e.smaa={},i.addEventListener("load",function(){e.smaa.search=this,n.itemEnd("smaa-search")}),r.addEventListener("load",function(){e.smaa.area=this,n.itemEnd("smaa-area")}),n.itemStart("smaa-search"),n.itemStart("smaa-area"),i.src=o.eF.searchImageDataURL,r.src=o.eF.areaImageDataURL})}init(){this.initPasses();let e=this.options;this.road.init(),this.leftCarLights.init(),this.leftCarLights.mesh.position.setX(-e.roadWidth/2-e.islandWidth/2),this.rightCarLights.init(),this.rightCarLights.mesh.position.setX(e.roadWidth/2+e.islandWidth/2),this.leftSticks.init(),this.leftSticks.mesh.position.setX(-(e.roadWidth+e.islandWidth/2)),this.container.addEventListener("mousedown",this.onMouseDown),this.container.addEventListener("mouseup",this.onMouseUp),this.container.addEventListener("mouseout",this.onMouseUp),this.tick()}onMouseDown(e){this.options.onSpeedUp&&this.options.onSpeedUp(e),this.fovTarget=this.options.fovSpeedUp,this.speedUpTarget=this.options.speedUp}onMouseUp(e){this.options.onSlowDown&&this.options.onSlowDown(e),this.fovTarget=this.options.fov,this.speedUpTarget=0}update(e){let t=Math.exp(-(-60*Math.log2(.9))*e);this.speedUp+=x(this.speedUp,this.speedUpTarget,t,1e-5),this.timeOffset+=this.speedUp*e;let n=this.clock.elapsedTime+this.timeOffset;this.rightCarLights.update(n),this.leftCarLights.update(n),this.leftSticks.update(n),this.road.update(n);let i=!1,r=x(this.camera.fov,this.fovTarget,t);if(0!==r&&(this.camera.fov+=r*e*6,i=!0),"object"==typeof this.options.distortion&&this.options.distortion.getJS){let e=this.options.distortion.getJS(.025,n);this.camera.lookAt(new s.Pq0(this.camera.position.x+e.x,this.camera.position.y+e.y,this.camera.position.z+e.z)),i=!0}i&&this.camera.updateProjectionMatrix(),this.options.isHyper&&console.log(this.options.isHyper)}render(e){this.composer.render(e)}dispose(){this.disposed=!0}setSize(e,t,n){this.composer.setSize(e,t,n)}tick(){if(this.disposed||!this)return;if(function(e,t){let n=e.domElement,i=n.clientWidth,r=n.clientHeight,s=n.width!==i||n.height!==r;return s&&t(i,r,!1),s}(this.renderer,this.setSize)){let e=this.renderer.domElement;this.camera.aspect=e.clientWidth/e.clientHeight,this.camera.updateProjectionMatrix()}let e=this.clock.getDelta();this.render(e),this.update(e),requestAnimationFrame(this.tick)}constructor(e,t){this.options=t,this.options.distortion||(this.options.distortion={uniforms:g,getDistortion:"\n  #define PI 3.14159265358979\n  uniform vec2 uDistortionX;\n  uniform vec2 uDistortionY;\n  float nsin(float val){\n    return sin(val) * 0.5 + 0.5;\n  }\n  vec3 getDistortion(float progress){\n    progress = clamp(progress, 0., 1.);\n    float xAmp = uDistortionX.r;\n    float xFreq = uDistortionX.g;\n    float yAmp = uDistortionY.r;\n    float yFreq = uDistortionY.g;\n    return vec3( \n      xAmp * nsin(progress * PI * xFreq - PI / 2.),\n      yAmp * nsin(progress * PI * yFreq - PI / 2.),\n      0.\n    );\n  }\n"}),this.container=e,this.renderer=new s.JeP({antialias:!1,alpha:!0}),this.renderer.setSize(e.offsetWidth,e.offsetHeight,!1),this.renderer.setPixelRatio(window.devicePixelRatio),this.composer=new o.s0(this.renderer),e.appendChild(this.renderer.domElement),this.camera=new s.ubm(t.fov,e.offsetWidth/e.offsetHeight,.1,1e4),this.camera.position.z=-5,this.camera.position.y=8,this.camera.position.x=0,this.scene=new s.Z58,this.scene.background=null;let n=new s.jUj(t.colors.background,.2*t.length,500*t.length);this.scene.fog=n,this.fogUniforms={fogColor:{value:n.color},fogNear:{value:n.near},fogFar:{value:n.far}},this.clock=new s.zD7,this.assets={},this.disposed=!1,this.road=new L(this,t),this.leftCarLights=new w(this,t,t.colors.leftCars,t.movingAwaySpeed,new s.I9Y(0,1-t.carLightsFade)),this.rightCarLights=new w(this,t,t.colors.rightCars,t.movingCloserSpeed,new s.I9Y(1,0+t.carLightsFade)),this.leftSticks=new b(this,t),this.fovTarget=t.fov,this.speedUpTarget=0,this.speedUp=0,this.timeOffset=0,this.tick=this.tick.bind(this),this.init=this.init.bind(this),this.setSize=this.setSize.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),window.addEventListener("resize",this.onWindowResize.bind(this))}}let T=e=>{let{effectOptions:t={}}=e,n={...a,...t},s=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=s.current;if(!e)return;"string"==typeof n.distortion&&(n.distortion=f[n.distortion]);let t=new D(e,n);t.loadAssets().then(t.init)},[]),(0,i.jsx)("div",{id:"lights",className:"w-full h-full",ref:s})}},416:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var i=n(5155),r=n(4989);function s(e){let{experience:t}=e;return(0,i.jsx)(r.default,{title:"Experience",className:"text-white",children:(0,i.jsx)("div",{className:"space-y-10",children:t.map((e,t)=>(0,i.jsxs)("div",{className:"item-border relative",children:[(0,i.jsx)("div",{className:"absolute left-[-10px] top-1 w-4 h-4 bg-indigo-400 rounded-full"}),(0,i.jsxs)("h3",{className:"item-heading",children:[e.role," â€” ",(0,i.jsx)("span",{className:"text-indigo-300",children:e.company})]}),(0,i.jsx)("p",{className:"item-location mb-1",children:e.location}),(0,i.jsx)("p",{className:"item-period mb-3",children:e.period}),(0,i.jsx)("ul",{className:"list-text",children:e.bullets.map((e,t)=>(0,i.jsx)("li",{children:e},t))})]},t))})})}},3110:(e,t,n)=>{Promise.resolve().then(n.bind(n,53)),Promise.resolve().then(n.bind(n,8125)),Promise.resolve().then(n.bind(n,5544)),Promise.resolve().then(n.bind(n,416)),Promise.resolve().then(n.bind(n,3767)),Promise.resolve().then(n.bind(n,4989))},3767:(e,t,n)=>{"use strict";n.d(t,{default:()=>w});var i=n(5155),r=n(1934),s=n(4989),o=n(2115);n(5254);var a=n(6766);let l={SMOOTH_DURATION:600,INITIAL_DURATION:1500,INITIAL_X_OFFSET:70,INITIAL_Y_OFFSET:60},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.min(Math.max(e,t),n)},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return parseFloat(e.toFixed(t))},h=(e,t,n,i,r)=>u(i+(r-i)*(e-t)/(n-t)),d=e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,m=o.memo(e=>{let{avatarUrl:t="<Placeholder for avatar URL>",iconUrl:n="<Placeholder for icon URL>",grainUrl:r="<Placeholder for grain URL>",behindGradient:s,innerGradient:m,showBehindGradient:f=!0,className:g="",enableTilt:p=!0,miniAvatarUrl:v,name:x="Javi A. Torres",title:w="Software Engineer",handle:P="javicodes",status:y="Online",contactText:b="Contact",showUserInfo:I=!0,onContactClick:F}=e,L=(0,o.useRef)(null),M=(0,o.useRef)(null),A=(0,o.useMemo)(()=>{if(!p)return null;let e=null,t=(e,t,n,i)=>{let r=n.clientWidth,s=n.clientHeight,o=c(100/r*e),a=c(100/s*t),l=o-50,d=a-50;Object.entries({"--pointer-x":"".concat(o,"%"),"--pointer-y":"".concat(a,"%"),"--background-x":"".concat(h(o,0,100,35,65),"%"),"--background-y":"".concat(h(a,0,100,35,65),"%"),"--pointer-from-center":"".concat(c(Math.hypot(a-50,o-50)/50,0,1)),"--pointer-from-top":"".concat(a/100),"--pointer-from-left":"".concat(o/100),"--rotate-x":"".concat(u(-(l/5)),"deg"),"--rotate-y":"".concat(u(d/4),"deg")}).forEach(e=>{let[t,n]=e;i.style.setProperty(t,n)})};return{updateCardTransform:t,createSmoothAnimation:(n,i,r,s,o)=>{let a=performance.now(),l=o.clientWidth/2,u=o.clientHeight/2,m=f=>{let g=c((f-a)/n),p=d(g);t(h(p,0,1,i,l),h(p,0,1,r,u),s,o),g<1&&(e=requestAnimationFrame(m))};e=requestAnimationFrame(m)},cancelAnimation:()=>{e&&(cancelAnimationFrame(e),e=null)}}},[p]),S=(0,o.useCallback)(e=>{let t=M.current,n=L.current;if(!t||!n||!A)return;let i=t.getBoundingClientRect();A.updateCardTransform(e.clientX-i.left,e.clientY-i.top,t,n)},[A]),k=(0,o.useCallback)(()=>{let e=M.current,t=L.current;e&&t&&A&&(A.cancelAnimation(),t.classList.add("active"),e.classList.add("active"))},[A]),D=(0,o.useCallback)(e=>{let t=M.current,n=L.current;t&&n&&A&&(A.createSmoothAnimation(l.SMOOTH_DURATION,e.offsetX,e.offsetY,t,n),n.classList.remove("active"),t.classList.remove("active"))},[A]);(0,o.useEffect)(()=>{if(!p||!A)return;let e=M.current,t=L.current;if(!e||!t)return;e.addEventListener("pointerenter",k),e.addEventListener("pointermove",S),e.addEventListener("pointerleave",D);let n=t.clientWidth-l.INITIAL_X_OFFSET,i=l.INITIAL_Y_OFFSET;return A.updateCardTransform(n,i,e,t),A.createSmoothAnimation(l.INITIAL_DURATION,n,i,e,t),()=>{e.removeEventListener("pointerenter",k),e.removeEventListener("pointermove",S),e.removeEventListener("pointerleave",D),A.cancelAnimation()}},[p,A,S,k,D]);let T=(0,o.useMemo)(()=>({"--icon":n?"url(".concat(n,")"):"none","--grain":r?"url(".concat(r,")"):"none","--behind-gradient":f?null!=s?s:"radial-gradient(farthest-side circle at var(--pointer-x) var(--pointer-y),hsla(266,100%,90%,var(--card-opacity)) 4%,hsla(266,50%,80%,calc(var(--card-opacity)*0.75)) 10%,hsla(266,25%,70%,calc(var(--card-opacity)*0.5)) 50%,hsla(266,0%,60%,0) 100%),radial-gradient(35% 52% at 55% 20%,#00ffaac4 0%,#073aff00 100%),radial-gradient(100% 100% at 50% 50%,#00c1ffff 1%,#073aff00 76%),conic-gradient(from 124deg at 50% 50%,#c137ffff 0%,#07c6ffff 40%,#07c6ffff 60%,#c137ffff 100%)":"none","--inner-gradient":null!=m?m:"linear-gradient(145deg,#60496e8c 0%,#71C4FF44 100%)"}),[n,r,f,s,m]),j=(0,o.useCallback)(()=>{null==F||F()},[F]);return(0,i.jsx)("div",{ref:L,className:"pc-card-wrapper ".concat(g).trim(),style:T,children:(0,i.jsx)("section",{ref:M,className:"pc-card",children:(0,i.jsxs)("div",{className:"pc-inside",children:[(0,i.jsx)("div",{className:"pc-shine"}),(0,i.jsx)("div",{className:"pc-glare"}),(0,i.jsxs)("div",{className:"pc-content pc-avatar-content",children:[(0,i.jsx)("img",{className:"avatar",src:t,alt:"".concat(x||"User"," avatar"),loading:"lazy",onError:e=>{e.target.style.display="none"}}),I&&(0,i.jsxs)("div",{className:"pc-user-info",children:[(0,i.jsxs)("div",{className:"pc-user-details",children:[(0,i.jsx)("div",{className:"pc-mini-avatar",children:(0,i.jsx)(a.default,{src:v||t,alt:"".concat(x||"User"," mini avatar"),width:32,height:32,onError:e=>{let n=e.target;n.style.opacity="0.5",n.src=t}})}),(0,i.jsxs)("div",{className:"pc-user-text",children:[(0,i.jsxs)("div",{className:"pc-handle",children:["@",P]}),(0,i.jsx)("div",{className:"pc-status",children:y})]})]}),(0,i.jsx)("button",{className:"pc-contact-btn",onClick:j,style:{pointerEvents:"auto"},type:"button","aria-label":"Contact ".concat(x||"user"),children:b})]})]}),(0,i.jsx)("div",{className:"pc-content",children:(0,i.jsxs)("div",{className:"pc-details",children:[(0,i.jsx)("h3",{children:x}),(0,i.jsx)("p",{children:w})]})})]})})})});var f=n(9099),g=n(2894),p=n(1788),v=n(6874),x=n.n(v);function w(e){let{name:t,tagline:n,content:o}=e;return(0,i.jsx)(s.default,{title:"",className:"text-white",children:(0,i.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-10",children:[(0,i.jsx)(r.P.div,{className:"flex-shrink-0",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6},children:(0,i.jsx)(m,{name:t,title:n,handle:"hkrish28",status:"Online",contactText:"Contact Me",avatarUrl:"/hari.png",showUserInfo:!0,enableTilt:!0,onContactClick:()=>{let e=document.getElementById("Contact Me");e&&e.scrollIntoView({behavior:"smooth"})}})}),(0,i.jsxs)(r.P.div,{className:"text-left max-w-xl",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,i.jsx)("h2",{className:"text-4xl font-semibold mb-6",children:"About Me"}),(0,i.jsx)("p",{className:"text-xl text-white/80 leading-relaxed mb-6",children:o}),(0,i.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,i.jsx)(x(),{href:"https://github.com/hkrish28",target:"_blank",children:(0,i.jsx)(f.A,{className:"w-6 h-6 hover:text-indigo-400 transition-colors"})}),(0,i.jsx)(x(),{href:"https://linkedin.com/in/hkrish28",target:"_blank",children:(0,i.jsx)(g.A,{className:"w-6 h-6 hover:text-indigo-400 transition-colors"})}),(0,i.jsxs)(x(),{href:"/resume.pdf",target:"_blank",className:"flex items-center gap-2 bg-indigo-600 text-white text-sm px-4 py-2 rounded-full hover:bg-indigo-500 transition-colors",children:[(0,i.jsx)(p.A,{className:"w-4 h-4"}),"Resume"]})]})]})]})})}},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(5155),r=n(1934);let s={hidden:{opacity:0,y:40},visible:{opacity:1,y:0}};function o(e){let{title:t,children:n,className:o="",id:a}=e;return(0,i.jsxs)("section",{className:"py-24 px-6 text-white ".concat(o),id:a||t,children:[(0,i.jsx)(r.P.h2,{variants:s,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},transition:{duration:.6},className:"section-heading",children:t}),(0,i.jsx)("div",{className:"max-w-5xl mx-auto backdrop-blur-sm bg-black/30 p-6 rounded-xl",children:n})]})}},5254:()=>{},5544:(e,t,n)=>{"use strict";n.d(t,{default:()=>o});var i=n(5155),r=n(2115),s=n(4989);function o(){let[e,t]=(0,r.useState)({name:"",email:"",message:""}),n=n=>{t({...e,[n.target.name]:n.target.value})};return(0,i.jsx)(s.default,{title:"Contact Me",className:"text-white",children:(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),alert("Message sent! Thank you."),t({name:"",email:"",message:""})},className:"max-w-4xl mx-auto flex flex-col space-y-6",children:[(0,i.jsx)("input",{type:"text",name:"name",value:e.name,onChange:n,placeholder:"Your Name",required:!0,className:"p-3 rounded bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,i.jsx)("input",{type:"email",name:"email",value:e.email,onChange:n,placeholder:"Your Email",required:!0,className:"p-3 rounded bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,i.jsx)("textarea",{name:"message",value:e.message,onChange:n,placeholder:"Your Message",required:!0,rows:5,className:"p-3 rounded bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"}),(0,i.jsx)("button",{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded shadow transition",children:"Send Message"})]})})}},8125:(e,t,n)=>{"use strict";n.d(t,{default:()=>o});var i=n(5155),r=n(1934),s=n(4989);function o(e){let{certifications:t}=e;return(0,i.jsx)(s.default,{title:"Certifications",className:"text-white",children:(0,i.jsx)(r.P.ul,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:{hidden:{},visible:{transition:{staggerChildren:.1}}},className:"space-y-6",children:t.map((e,t)=>(0,i.jsxs)(r.P.li,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},className:"border-l-4 border-indigo-400 pl-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-indigo-300",children:e.name}),(0,i.jsx)("span",{className:"text-sm text-indigo-400",children:e.date})]}),(0,i.jsx)("p",{className:"text-sm text-indigo-200",children:e.provider}),e.link&&(0,i.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 text-sm underline mt-1 inline-block",children:"View Certificate"})]},t))})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[383,367,664,696,441,684,358],()=>t(3110)),_N_E=e.O()}]);